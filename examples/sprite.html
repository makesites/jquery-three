<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>jQuery Three :: Sprite character</title>
	<meta charset="utf-8">
	<!-- common styles in examples -->
	<link rel="stylesheet" href="assets/css/styles.css" type="text/css" media="screen">

	<style type="text/css">

		scene {
		}

		#main-cam {
			-webkit-transform: translate3d(0, 0, 50px);
			-moz-transform: translate3d(0, 0, 50px);
			transform: translate3d(0, 0, 50px);
			/* -webkit-backface-visibility: hidden;
			-webkit-perspective: 1000; */
		}

		sprite#character {
			background-image: url(assets/img/deviantart-hero_walk_cycle_spritesheet_by_mrnoobtastic-d3defej.png);
			background-size: 128px 128px;
			/*
			background-image: url(assets/img/sprite_king.png);
			background-size: 37.5px 66.25px;  /* actual pixel size from sprite */
			width: 10px;
			height: 10px;
		}

		/* direction / idle position */

		.face-left {
			background-position: 0 0px;
		}
		.face-right {
			background-position: 0 128px;
		}

		.face-down {
			background-position: 0 256px;
		}

		.face-up {
			background-position: 0 384px;
		}


		/* animation */

		@-moz-keyframes walk {
			from { background-position-x: 0; }
			to { background-position-x: 512px; }
		}

		@-webkit-keyframes walk {
			from { background-position-x: 0; }
			to { background-position-x: 512px; }
		}
		@keyframes walk {
			from { background-position-x: 0; }
			to { background-position-x: 512px; }
		}

		.walk {
			-webkit-animation: walk 1.2s steps(4) infinite;
			-moz-animation: walk 1.2s steps(4) infinite;
			animation: walk 1.2s steps(4) infinite;
		}

		/* controls */
		#controls {
			z-index: 9999;
			position: absolute;
			bottom: 5%;
			left: 5%;
		}

		#controls button {
			font-size: 2em;
		}
	</style>

</head>
<body>

	<header>
		<h2><a href="https://github.com/makesites/jquery-three">jQuery Three</a></h2>
		<p>Here we have a character, animated from a sprite sheet; use the controls to change the animations | <a href="handlebars.html">next &gt;</a></p>
	</header>

	<div id="main">
		<scene id="first">
			<camera id="main-cam" class="perspective" data-fov="30" data-far="1000"></camera>
			<sprite id="character" class="walk face-down"></sprite>
		</scene>
	</div>

	<div id="controls">
		<button class="up">&#8679;</button>
		<button class="down">&#8681;</button>
		<button class="right">&#8680;</button>
		<button class="left">&#8678;</button>
	</div>

	<!-- deps -->
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="assets/js/libs/three.min.js"></script>

	<!-- lib -->
	<script type="text/javascript" src="../build/jquery.three.js"></script>

	<!-- logic -->
	<script type="text/javascript">

		// initiate 3d environemnt
		$("#main").three({ watch: true }, function( $3d ){
			// add key monitoring...
			var el = $3d.active.sprite;

			// setup events (replace raw updates with class names)
			$("button.up").click(function (e) {
				el.material.map.offset.set( 0, 0);
			});
			$("button.down").click(function (e) {
				el.material.map.offset.set( 0, 1/4);
			});
			$("button.right").click(function (e) {
				el.material.map.offset.set( 0, 2/4);
			});
			$("button.left").click(function (e) {
				el.material.map.offset.set( 0, 3/4);
			});
		});

		// controls

	</script>

</body>
</html>
